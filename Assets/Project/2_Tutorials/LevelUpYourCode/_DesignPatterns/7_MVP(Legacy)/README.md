# ğŸ® MVP Pattern - Legacy (Model-View-Presenter íŒ¨í„´)

## ğŸ“‹ ëª©ì°¨
- [íŒ¨í„´ ê°œìš”](#-íŒ¨í„´-ê°œìš”)
- [ì™œ MVP Patternì´ í•„ìš”í•œê°€?](#-ì™œ-mvp-patternì´-í•„ìš”í•œê°€)
- [í•µì‹¬ êµ¬ì„±ìš”ì†Œ](#-í•µì‹¬-êµ¬ì„±ìš”ì†Œ)
- [ì½”ë“œ êµ¬ì¡°](#-ì½”ë“œ-êµ¬ì¡°)
- [ì‹¤í–‰ íë¦„](#-ì‹¤í–‰-íë¦„)
- [ì£¼ìš” ì½”ë“œ ë¶„ì„](#-ì£¼ìš”-ì½”ë“œ-ë¶„ì„)
- [ì¥ë‹¨ì ](#-ì¥ë‹¨ì )
- [ì‹¤ì œ ì‚¬ìš© ì‚¬ë¡€](#-ì‹¤ì œ-ì‚¬ìš©-ì‚¬ë¡€)
- [ì‹¤ë¬´ í™•ì¥ ê°€ì´ë“œ](#-ì‹¤ë¬´-í™•ì¥-ê°€ì´ë“œ)
- [í•™ìŠµ ì •ë¦¬](#-í•™ìŠµ-ì •ë¦¬)

---

## ğŸ¯ íŒ¨í„´ ê°œìš”

**MVP Pattern (Model-View-Presenter)** ì€ **ì•„í‚¤í…ì²˜ íŒ¨í„´** ì¤‘ í•˜ë‚˜ë¡œ, UIì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬í•˜ì—¬ ê´€ë¦¬í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.

Presenterê°€ Modelê³¼ View ì‚¬ì´ì˜ **ì¤‘ì¬ì** ì—­í• ì„ í•˜ë©°, ViewëŠ” ë‹¨ìˆœíˆ UIë¥¼ í‘œì‹œí•˜ê³  ì‚¬ìš©ì ì…ë ¥ì„ ë°›ëŠ” ì—­í• ë§Œ ìˆ˜í–‰í•©ë‹ˆë‹¤.

> âš ï¸ **Legacy ë²„ì „ ì•ˆë‚´**
> ì´ í”„ë¡œì íŠ¸ëŠ” Unityì˜ ê¸°ë³¸ **uGUI (Slider, Text)** ë¥¼ ì‚¬ìš©í•œ MVP íŒ¨í„´ êµ¬í˜„ì…ë‹ˆë‹¤.
> UI Toolkitì„ ì‚¬ìš©í•œ ìµœì‹  ë²„ì „ì€ [7_MVP_UIToolkit](../7_MVP_UIToolkit/) í´ë”ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

### ğŸ“Œ í•µì‹¬ ê°œë…

```
UI(View)ì™€ ë°ì´í„°(Model)ë¥¼ ì§ì ‘ ì—°ê²°í•˜ì§€ ì•Šê³ 
Presenterê°€ ì¤‘ê°„ì—ì„œ ëª¨ë“  ë¡œì§ì„ ì¤‘ì¬í•œë‹¤!
```

**ì¼ë°˜ì ì¸ ë°©ë²• :**
```csharp
// Viewì—ì„œ ì§ì ‘ Modelì„ ì¡°ì‘
healthSlider.value = health.CurrentHealth;
healthText.text    = health.CurrentHealth.ToString();
// âŒ ë¬¸ì œ : UI ì½”ë“œì™€ ë°ì´í„° ë¡œì§ì´ ë’¤ì„ì„, í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€
```

**MVP Pattern :**
```csharp
// Presenterê°€ Modelê³¼ Viewë¥¼ ì¤‘ì¬
model.HealthChanged += () => UpdateView();
// âœ… ì¥ì  : UIì™€ ë°ì´í„° ì™„ì „ ë¶„ë¦¬, í…ŒìŠ¤íŠ¸ ìš©ì´
```

---

## ğŸ¤” ì™œ MVP Patternì´ í•„ìš”í•œê°€?

### ë¬¸ì œ ìƒí™©

ê²Œì„ì—ì„œ ì²´ë ¥ë°” UIë¥¼ ê´€ë¦¬í•  ë•Œ, ì¼ë°˜ì ìœ¼ë¡œ ì´ë ‡ê²Œ ì‘ì„±í•©ë‹ˆë‹¤ :

```csharp
public class HealthUI : MonoBehaviour
{
    [SerializeField] private Slider healthSlider;
    [SerializeField] private Text   healthText;

    private int currentHealth = 100;

    public void TakeDamage(int amount)
    {
        // ë°ì´í„° ì²˜ë¦¬
        currentHealth = Mathf.Clamp(currentHealth - amount, 0, 100);

        // UI ì—…ë°ì´íŠ¸
        healthSlider.value = currentHealth;
        healthText.text    = currentHealth.ToString();

        // ì¶”ê°€ ë¡œì§
        if (currentHealth <= 0) GameOver();
    }
}
// âŒ ë¬¸ì œ : ë°ì´í„°, UI, ê²Œì„ ë¡œì§ì´ í•œ í´ë˜ìŠ¤ì— ì „ë¶€ ì„ì—¬ ìˆìŒ
```

**ì´ ì½”ë“œì˜ ë¬¸ì œì  :**

âŒ **ê´€ì‹¬ì‚¬ í˜¼ì¬ (SRP ìœ„ë°˜)**
   - ë°ì´í„° ê´€ë¦¬, UI í‘œì‹œ, ê²Œì„ ë¡œì§ì´ í•œ í´ë˜ìŠ¤ì— ë’¤ì„ì„
   - ì²´ë ¥ ì‹œìŠ¤í…œ ë³€ê²½ ì‹œ UI ì½”ë“œë„ í•¨ê»˜ ìˆ˜ì •í•´ì•¼ í•¨

âŒ **í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€**
   - ì²´ë ¥ ë¡œì§ë§Œ ë”°ë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ì—†ìŒ
   - UI ì»´í¬ë„ŒíŠ¸ ì—†ì´ëŠ” í…ŒìŠ¤íŠ¸ ìì²´ê°€ ë¶ˆê°€ëŠ¥

âŒ **ì¬ì‚¬ìš© ë¶ˆê°€ëŠ¥**
   - ë‹¤ë¥¸ UI (ì˜ˆ : ë¯¸ë‹ˆë§µ, ìƒíƒœì°½)ì—ì„œ ê°™ì€ ë°ì´í„°ë¥¼ í‘œì‹œí•˜ë ¤ë©´ ì½”ë“œ ë³µì‚¬ í•„ìš”
   - ë°ì´í„° ì†ŒìŠ¤ê°€ ë³€ê²½ë˜ë©´ ëª¨ë“  UI ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼ í•¨

âŒ **í™•ì¥ ì–´ë ¤ì›€ (OCP ìœ„ë°˜)**
   - ìƒˆë¡œìš´ UI ìš”ì†Œ ì¶”ê°€ ì‹œ ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • í•„ìš”
   - ì•Œë¦¼, ì‚¬ìš´ë“œ ë“± ì¶”ê°€ ê¸°ëŠ¥ì„ ë„£ì„ ê³³ì´ ë¶ˆëª…í™•

### MVP Patternì˜ í•´ê²°ì±…

âœ… **ê´€ì‹¬ì‚¬ ë¶„ë¦¬ (SRP ì¤€ìˆ˜)**
   - Model : ë°ì´í„°ë§Œ ê´€ë¦¬ (ì²´ë ¥ ê°’, ìµœì†Œ/ìµœëŒ€ê°’)
   - View : UI í‘œì‹œë§Œ ë‹´ë‹¹ (Slider, Text)
   - Presenter : Modelê³¼ Viewë¥¼ ì—°ê²°í•˜ëŠ” ì¤‘ì¬ì

âœ… **í…ŒìŠ¤íŠ¸ ìš©ì´**
   - Modelì„ ë…ë¦½ì ìœ¼ë¡œ ìœ ë‹› í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
   - Presenterì˜ ë¡œì§ë„ View ì—†ì´ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

âœ… **ì¬ì‚¬ìš©ì„±**
   - ê°™ì€ Modelì— ì—¬ëŸ¬ Presenter/View ì—°ê²° ê°€ëŠ¥
   - UI ë³€ê²½ ì‹œ Model ì½”ë“œ ìˆ˜ì • ë¶ˆí•„ìš”

âœ… **í™•ì¥ ìš©ì´ (OCP ì¤€ìˆ˜)**
   - ìƒˆë¡œìš´ View ì¶”ê°€ ì‹œ ìƒˆ Presenterë§Œ ìƒì„±
   - ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ë¶ˆí•„ìš”

---

## ğŸ—ï¸ í•µì‹¬ êµ¬ì„±ìš”ì†Œ

MVP Patternì€ ë‹¤ìŒ 3ê°€ì§€ í•µì‹¬ ìš”ì†Œë¡œ êµ¬ì„±ë©ë‹ˆë‹¤ :

### 1ï¸âƒ£ Model (ëª¨ë¸) - ë°ì´í„° ë‹´ë‹¹

**ğŸ“ íŒŒì¼ :** [Health.cs](./Scripts/Model/Health.cs)

```csharp
public class Health : MonoBehaviour
{
    public event Action HealthChanged;    // ë°ì´í„° ë³€ê²½ ì•Œë¦¼ ì´ë²¤íŠ¸

    private const int k_MinHealth = 0;
    private const int k_MaxHealth = 100;
    private int       m_CurrentHealth;

    public int CurrentHealth
    {
        get => m_CurrentHealth;
        set
        {
            m_CurrentHealth = Mathf.Clamp(value, k_MinHealth, k_MaxHealth);
            HealthChanged?.Invoke();      // ê°’ì´ ë³€ê²½ë˜ë©´ ì´ë²¤íŠ¸ ë°œí–‰
        }
    }
    public int MinHealth => k_MinHealth;
    public int MaxHealth => k_MaxHealth;

    public void Increment(int amount) { CurrentHealth += amount; }
    public void Decrement(int amount) { CurrentHealth -= amount; }
    public void Restore()             { CurrentHealth  = k_MaxHealth; }
}
```

**ì—­í•  :**
- ì²´ë ¥ ë°ì´í„°ë¥¼ ë³´ìœ í•˜ê³  ê´€ë¦¬í•˜ëŠ” **ìˆœìˆ˜ ë°ì´í„° í´ë˜ìŠ¤**
- `HealthChanged` ì´ë²¤íŠ¸ë¡œ ë°ì´í„° ë³€ê²½ì„ **Presenterì—ê²Œ ì•Œë¦¼**
- `Clamp`ë¡œ ìµœì†Œ/ìµœëŒ€ ë²”ìœ„ë¥¼ ë³´ì¥
- UIì— ëŒ€í•´ **ì „í˜€ ì•Œì§€ ëª»í•¨** (View ì°¸ì¡° ì—†ìŒ)

---

### 2ï¸âƒ£ View (ë·°) - UI í‘œì‹œ ë‹´ë‹¹

**ì´ í”„ë¡œì íŠ¸ì—ì„œ ViewëŠ” ë³„ë„ì˜ ì»¤ìŠ¤í…€ ìŠ¤í¬ë¦½íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.**

Unityì˜ ê¸°ë³¸ uGUI ì»´í¬ë„ŒíŠ¸ê°€ View ì—­í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤ :

| ì»´í¬ë„ŒíŠ¸ | ì—­í•  |
|----------|------|
| `Slider` | ì²´ë ¥ë°”ë¥¼ ì‹œê°ì ìœ¼ë¡œ í‘œì‹œ |
| `Text` | ì²´ë ¥ ìˆ˜ì¹˜ë¥¼ í…ìŠ¤íŠ¸ë¡œ í‘œì‹œ |
| `Button` | ë¦¬ì…‹ ë²„íŠ¼ (ì‚¬ìš©ì ì…ë ¥ì„ ë°›ì•„ Presenterì— ì „ë‹¬) |

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              View (uGUI)                â”‚
â”‚                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Slider (ì²´ë ¥ë°”)                 â”‚   â”‚
â”‚   â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘  HP: 75      â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚   â”‚  Reset   â”‚  â† Button              â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì™œ View ìŠ¤í¬ë¦½íŠ¸ê°€ ì—†ëŠ”ê°€?**
- uGUIì˜ `Slider`, `Text`ê°€ ìì²´ì ìœ¼ë¡œ ê°’ì„ í‘œì‹œí•˜ëŠ” ê¸°ëŠ¥ì„ ê°€ì§
- Presenterê°€ ì§ì ‘ `slider.value`ì™€ `text.text`ë¥¼ ì„¤ì •
- ë‹¨ìˆœí•œ UIì—ì„œëŠ” ë³„ë„ View ìŠ¤í¬ë¦½íŠ¸ ì—†ì´ë„ MVPê°€ ì„±ë¦½

---

### 3ï¸âƒ£ Presenter (í”„ë¦¬ì  í„°) - ì¤‘ì¬ì

**ğŸ“ íŒŒì¼ :** [HealthPresenter.cs](./Scripts/Presenter/HealthPresenter.cs)

```csharp
public class HealthPresenter : MonoBehaviour
{
    [Header("Model")]
    [SerializeField] Health  m_Health;

    [Header("View")]
    [SerializeField] Slider  m_HealthSlider;
    [Optional]
    [SerializeField] Text    m_HealthLabel;

    private void Start()
    {
        m_Health.HealthChanged += Health_HealthChanged;  // Model ì´ë²¤íŠ¸ êµ¬ë…
        InitializeSlider();
        Reset();
        UpdateView();
    }

    public void Damage(int amount) { m_Health.Decrement(amount); }  // Model ì¡°ì‘
    public void Heal(int amount)   { m_Health.Increment(amount); }
    public void Reset()            { m_Health.Restore(); }

    public void UpdateView()                                        // View ì—…ë°ì´íŠ¸
    {
        m_HealthSlider.value = ((float)m_Health.CurrentHealth / (float)m_Health.MaxHealth) * 100f;
        if (m_HealthLabel != null)
            m_HealthLabel.text = m_Health.CurrentHealth.ToString();
    }

    public void Health_HealthChanged() { UpdateView(); }            // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
}
```

**ì—­í•  :**
- Modelê³¼ Viewë¥¼ **ëª¨ë‘ ì°¸ì¡°**í•˜ëŠ” ìœ ì¼í•œ í´ë˜ìŠ¤
- Modelì˜ `HealthChanged` ì´ë²¤íŠ¸ë¥¼ êµ¬ë…í•˜ì—¬ Viewë¥¼ ì—…ë°ì´íŠ¸
- ì™¸ë¶€(User)ë¡œë¶€í„° `Damage`, `Heal`, `Reset` ëª…ë ¹ì„ ë°›ì•„ Modelì— ì „ë‹¬
- ë°ì´í„° ë³€í™˜ : Modelì˜ int ê°’ â†’ Viewì˜ float(Slider), string(Text)

---

## ğŸ“Š ì½”ë“œ êµ¬ì¡°

### í´ë” êµ¬ì¡°

```
7_MVP(Legacy)/
â”œâ”€â”€ Scripts/
â”‚   â”œâ”€â”€ Model/                           (ë°ì´í„° ê³„ì¸µ)
â”‚   â”‚   â””â”€â”€ Health.cs                  â† Model : ì²´ë ¥ ë°ì´í„° ê´€ë¦¬
â”‚   â”‚
â”‚   â”œâ”€â”€ Presenter/                       (ì¤‘ì¬ì ê³„ì¸µ)
â”‚   â”‚   â””â”€â”€ HealthPresenter.cs         â† Presenter : Model-View ì—°ê²°
â”‚   â”‚
â”‚   â””â”€â”€ User/                            (ì‚¬ìš©ì ì…ë ¥)
â”‚       â””â”€â”€ ClickDamage.cs             â† User Input : ë§ˆìš°ìŠ¤ í´ë¦­ â†’ ë°ë¯¸ì§€
â”‚
â”œâ”€â”€ Prefabs/
â”‚   â”œâ”€â”€ Model.prefab                   â† Health ì»´í¬ë„ŒíŠ¸ê°€ ë¶™ì€ í”„ë¦¬íŒ¹
â”‚   â”œâ”€â”€ Presenter.prefab               â† HealthPresenter ì»´í¬ë„ŒíŠ¸ê°€ ë¶™ì€ í”„ë¦¬íŒ¹
â”‚   â”œâ”€â”€ View.prefab                    â† UI ìš”ì†Œë“¤ (Slider, Text, Button)
â”‚   â”œâ”€â”€ HealthSlider.prefab            â† ì²´ë ¥ë°” ìŠ¬ë¼ì´ë”
â”‚   â”œâ”€â”€ HealthResetPanel.prefab        â† ë¦¬ì…‹ ë²„íŠ¼ íŒ¨ë„
â”‚   â”œâ”€â”€ ShooterTarget.prefab           â† ì‚¬ê²© ëŒ€ìƒ ì˜¤ë¸Œì íŠ¸
â”‚   â”œâ”€â”€ ShooterTargetShatter.prefab    â† íŒŒê´´ ì´í™íŠ¸ í”„ë¦¬íŒ¹
â”‚   â””â”€â”€ TargetMesh.prefab             â† ëŒ€ìƒ ë©”ì‹œ
â”‚
â”œâ”€â”€ Audio/                               (ì‚¬ìš´ë“œ ì—ì…‹)
â”œâ”€â”€ Meshes/                              (3D ë©”ì‹œ ì—ì…‹)
â”œâ”€â”€ Textures/                            (í…ìŠ¤ì²˜ ì—ì…‹)
â”œâ”€â”€ MVP.unity                            (ë°ëª¨ ì”¬)
â””â”€â”€ README.md                            â† ğŸ“ í˜„ì¬ ë¬¸ì„œ
```

### í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Health             â”‚  â† Model
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + event HealthChanged     â”‚
â”‚ + CurrentHealth           â”‚
â”‚ + MinHealth               â”‚
â”‚ + MaxHealth               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + Increment(amount)       â”‚
â”‚ + Decrement(amount)       â”‚
â”‚ + Restore()               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–³
         â”‚ ì°¸ì¡° (ì´ë²¤íŠ¸ êµ¬ë…)
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    HealthPresenter        â”‚  â† Presenter (ì¤‘ì¬ì)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - m_Health      : Health  â”‚  â† Model ì°¸ì¡°
â”‚ - m_HealthSlider : Slider â”‚  â† View ì°¸ì¡°
â”‚ - m_HealthLabel  : Text   â”‚  â† View ì°¸ì¡°
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + Damage(amount)          â”‚
â”‚ + Heal(amount)            â”‚
â”‚ + Reset()                 â”‚
â”‚ + UpdateView()            â”‚
â”‚ - Health_HealthChanged()  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–³
         â”‚ ì°¸ì¡°
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ClickDamage          â”‚  â† User Input
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - m_HealthPresenter       â”‚  â† Presenter ì°¸ì¡°
â”‚ - m_DamageValue           â”‚
â”‚ - m_LayerMask             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - Update() : Raycast      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       View (uGUI)                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Slider (ì²´ë ¥ë°”)  â”‚  Text (ì²´ë ¥ ìˆ˜ì¹˜)  â”‚  Button (ë¦¬ì…‹ ë²„íŠ¼)     â”‚
â”‚                   â”‚                    â”‚                         â”‚
â”‚  ë³„ë„ ìŠ¤í¬ë¦½íŠ¸ ì—†ì´ Unity ê¸°ë³¸ uGUI ì»´í¬ë„ŒíŠ¸ê°€ View ì—­í•  ìˆ˜í–‰    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì˜ì¡´ ê´€ê³„

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ClickDamage  â”‚  â† User Input
                    â”‚(ë§ˆìš°ìŠ¤ í´ë¦­) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ Presenter.Damage() í˜¸ì¶œ
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â”‚â—€â”€â”€â”€â”€â”‚  HealthPresenter â”‚â”€â”€â”€â”€â–¶â”‚    Health     â”‚
â”‚   View   â”‚     â”‚   (Presenter)    â”‚     â”‚   (Model)    â”‚
â”‚  (uGUI)  â”‚     â”‚                  â”‚     â”‚              â”‚
â”‚ Slider   â”‚     â”‚  Model ì¡°ì‘      â”‚     â”‚ ë°ì´í„° ê´€ë¦¬   â”‚
â”‚ Text     â”‚     â”‚  View ì—…ë°ì´íŠ¸   â”‚     â”‚ ì´ë²¤íŠ¸ ë°œí–‰   â”‚
â”‚ Button   â”‚     â”‚                  â”‚     â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â–²                          â”‚
                       â”‚     HealthChanged ì´ë²¤íŠ¸  â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**í•µì‹¬ ê·œì¹™ :**
```
âœ… Presenter â†’ Model  (Presenterê°€ Modelì„ ì°¸ì¡°í•˜ê³  ì¡°ì‘)
âœ… Presenter â†’ View   (Presenterê°€ Viewë¥¼ ì°¸ì¡°í•˜ê³  ì—…ë°ì´íŠ¸)
âœ… Model    â†’ Presenter (ì´ë²¤íŠ¸ë¡œ ê°„ì ‘ ì•Œë¦¼)
âŒ Model    â†’ View   (Modelì€ Viewë¥¼ ì ˆëŒ€ ì•Œì§€ ëª»í•¨!)
âŒ View     â†’ Model  (ViewëŠ” Modelì„ ì ˆëŒ€ ì§ì ‘ ì¡°ì‘í•˜ì§€ ì•ŠìŒ!)
```

---

## ğŸ”„ ì‹¤í–‰ íë¦„

### 1ï¸âƒ£ ì´ˆê¸°í™” íë¦„

```
[ê²Œì„ ì‹œì‘]
    â¬‡ï¸
HealthPresenter.Awake()
    â¬‡ï¸
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NullRefChecker.Validate(this)    â”‚
â”‚   â†’ SerializeField ì°¸ì¡° ê²€ì¦     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â¬‡ï¸
HealthPresenter.Start()
    â¬‡ï¸
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ì´ë²¤íŠ¸ êµ¬ë…                    â”‚
â”‚    m_Health.HealthChanged         â”‚
â”‚    += Health_HealthChanged        â”‚
â”‚                                   â”‚
â”‚ 2. ìŠ¬ë¼ì´ë” ì´ˆê¸°í™”                â”‚
â”‚    slider.maxValue = MaxHealth    â”‚
â”‚                                   â”‚
â”‚ 3. ì²´ë ¥ ë¦¬ì…‹                      â”‚
â”‚    m_Health.Restore() â†’ 100      â”‚
â”‚                                   â”‚
â”‚ 4. View ì—…ë°ì´íŠ¸                  â”‚
â”‚    UpdateView() â†’ slider, text   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â¬‡ï¸
âœ… ì´ˆê¸°í™” ì™„ë£Œ! ì²´ë ¥ 100, ì²´ë ¥ë°” 100%
```

---

### 2ï¸âƒ£ ë°ë¯¸ì§€ íë¦„ (ë§ˆìš°ìŠ¤ í´ë¦­)

```
[ë§ˆìš°ìŠ¤ ì¢Œí´ë¦­]
    â¬‡ï¸
ClickDamage.Update()
    â¬‡ï¸
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Ray = ScreenPointToRay()      â”‚
â”‚    â†’ ë§ˆìš°ìŠ¤ ìœ„ì¹˜ì—ì„œ ë ˆì´ ë°œì‚¬     â”‚
â”‚                                   â”‚
â”‚ 2. Physics.Raycast() ì¶©ëŒ í™•ì¸    â”‚
â”‚    â†’ LayerMaskë¡œ ëŒ€ìƒ í•„í„°ë§      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â¬‡ï¸ ì¶©ëŒ ê°ì§€ë¨!
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ m_HealthPresenter?.Damage(10)    â”‚
â”‚                                   â”‚
â”‚ âš ï¸ ?. (Null ì¡°ê±´ë¶€ ì—°ì‚°ì)       â”‚
â”‚   nullì´ë©´ í˜¸ì¶œ ê±´ë„ˆë›°ê¸°          â”‚
â”‚   ìˆìœ¼ë©´ ì •ìƒ ì‹¤í–‰                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â¬‡ï¸ Presenter
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HealthPresenter.Damage(10)       â”‚
â”‚   â†’ m_Health.Decrement(10)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â¬‡ï¸ Model
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Health.Decrement(10)             â”‚
â”‚   â†’ CurrentHealth -= 10          â”‚
â”‚   â†’ Clamp(90, 0, 100)           â”‚
â”‚   â†’ HealthChanged?.Invoke()      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â¬‡ï¸ ì´ë²¤íŠ¸ ë°œí–‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HealthPresenter                  â”‚
â”‚   .Health_HealthChanged()        â”‚
â”‚   â†’ UpdateView()                 â”‚
â”‚     â†’ slider.value = 90          â”‚
â”‚     â†’ text.text = "90"           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â¬‡ï¸
âœ… ì²´ë ¥ 90, ì²´ë ¥ë°” 90% í‘œì‹œ
```

**ì „ì²´ íë¦„ ìš”ì•½ :**
```
User(ë§ˆìš°ìŠ¤ í´ë¦­) â†’ ClickDamage â†’ Presenter â†’ Model â†’ ì´ë²¤íŠ¸ â†’ Presenter â†’ View(UI ì—…ë°ì´íŠ¸)
```

> ğŸ’¡ **ì°¸ê³  :** ë°ë¯¸ì§€ íë¦„ì—ì„œ ClickDamageëŠ” Viewë¥¼ ê±°ì¹˜ì§€ ì•Šê³  **Presenterì— ì§ì ‘ ì ‘ê·¼**í•©ë‹ˆë‹¤.
> ì´ëŠ” 3D ê³µê°„ì˜ Raycast ì…ë ¥ì´ uGUI ë²„íŠ¼ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì´ë©°, ì‹¤ë¬´ì—ì„œë„ **í—ˆìš© ë²”ìœ„** ë‚´ì…ë‹ˆë‹¤.

---

### 3ï¸âƒ£ ë¦¬ì…‹ íë¦„ (ë²„íŠ¼ í´ë¦­) - ì •ì„ MVP íë¦„

```
[Reset ë²„íŠ¼ í´ë¦­]
    â¬‡ï¸
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Button.onClick ì´ë²¤íŠ¸ ë°œìƒ        â”‚
â”‚   â†’ View (uGUI) ì˜ì—­             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â¬‡ï¸ Presenter
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HealthPresenter.Reset()          â”‚
â”‚   â†’ m_Health.Restore()           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â¬‡ï¸ Model
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Health.Restore()                 â”‚
â”‚   â†’ CurrentHealth = 100          â”‚
â”‚   â†’ HealthChanged?.Invoke()      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â¬‡ï¸ ì´ë²¤íŠ¸ ë°œí–‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HealthPresenter                  â”‚
â”‚   .Health_HealthChanged()        â”‚
â”‚   â†’ UpdateView()                 â”‚
â”‚     â†’ slider.value = 100         â”‚
â”‚     â†’ text.text = "100"          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â¬‡ï¸
âœ… ì²´ë ¥ 100, ì²´ë ¥ë°” 100% ë³µì›
```

**ì •ì„ íë¦„ ìš”ì•½ :**
```
User(ë²„íŠ¼ í´ë¦­) â†’ View(Button) â†’ Presenter.Reset() â†’ Model â†’ ì´ë²¤íŠ¸ â†’ Presenter â†’ View(UI ì—…ë°ì´íŠ¸)
```

> âœ… **ë¦¬ì…‹ ë²„íŠ¼ì€ ì •ì„ MVP íë¦„ì„ ë”°ë¦…ë‹ˆë‹¤** : User â†’ View â†’ Presenter â†’ Model â†’ Presenter â†’ View

---

### 4ï¸âƒ£ ë‘ íë¦„ ë¹„êµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Œ ì •ì„ MVP íë¦„ (ë¦¬ì…‹ ë²„íŠ¼)                                â”‚
â”‚                                                             â”‚
â”‚  User â†’ View(Button) â†’ Presenter â†’ Model                   â”‚
â”‚                                      â”‚                      â”‚
â”‚                              ì´ë²¤íŠ¸  â”‚                      â”‚
â”‚                                      â–¼                      â”‚
â”‚                         Presenter â†’ View(UI ì—…ë°ì´íŠ¸)        â”‚
â”‚                                                             â”‚
â”‚  âœ… Userì˜ ì…ë ¥ì´ View(UI ë²„íŠ¼)ë¥¼ ê±°ì³ì„œ Presenterë¡œ ì „ë‹¬    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Œ ë³€í˜• íë¦„ (ë§ˆìš°ìŠ¤ í´ë¦­ ë°ë¯¸ì§€)                            â”‚
â”‚                                                             â”‚
â”‚  User â†’ ClickDamage â†’ Presenter â†’ Model                    â”‚
â”‚                                     â”‚                       â”‚
â”‚                             ì´ë²¤íŠ¸  â”‚                       â”‚
â”‚                                     â–¼                       â”‚
â”‚                        Presenter â†’ View(UI ì—…ë°ì´íŠ¸)         â”‚
â”‚                                                             â”‚
â”‚  âš ï¸ 3D Raycast ì…ë ¥ì€ uGUIê°€ ì•„ë‹ˆë¯€ë¡œ Viewë¥¼ ê±°ì¹˜ì§€ ì•ŠìŒ    â”‚
â”‚  â†’ ì‹¤ë¬´ì—ì„œë„ í—ˆìš©ë˜ëŠ” ë²”ìœ„                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’» ì£¼ìš” ì½”ë“œ ë¶„ì„

### ğŸ“Œ í•µì‹¬ ì½”ë“œ 1 : Modelì˜ ì´ë²¤íŠ¸ ê¸°ë°˜ ì•Œë¦¼ (Health)

**ìœ„ì¹˜ :** Health.cs:20-28

```csharp
public int CurrentHealth
{
    get => m_CurrentHealth;
    set
    {
        m_CurrentHealth = Mathf.Clamp(value, k_MinHealth, k_MaxHealth);
        HealthChanged?.Invoke();    // âœ… í•µì‹¬ : ê°’ ë³€ê²½ ì‹œ ìë™ ì´ë²¤íŠ¸ ë°œí–‰
    }
}
```

**ì´í•´ í¬ì¸íŠ¸ :**
- **í”„ë¡œí¼í‹°ì˜ setter**ì—ì„œ ì´ë²¤íŠ¸ë¥¼ ë°œí–‰í•˜ëŠ” ê²ƒì´ MVPì˜ í•µì‹¬
- Modelì€ **"ëˆ„ê°€ ë“£ê³  ìˆëŠ”ì§€"** ì „í˜€ ëª¨ë¦„ (ëŠìŠ¨í•œ ê²°í•©)
- `Clamp`ë¡œ ìœ íš¨ ë²”ìœ„ë¥¼ ë³´ì¥í•œ **í›„ì—** ì´ë²¤íŠ¸ ë°œí–‰ (í•­ìƒ ìœ íš¨í•œ ë°ì´í„°ë§Œ ì „ë‹¬)
- `HealthChanged?.Invoke()` : êµ¬ë…ìê°€ ì—†ì–´ë„ NullReferenceException ë°©ì§€

---

### ğŸ“Œ í•µì‹¬ ì½”ë“œ 2 : Presenterì˜ ì´ë²¤íŠ¸ êµ¬ë…/í•´ì œ (HealthPresenter)

**ìœ„ì¹˜ :** HealthPresenter.cs:27-38

```csharp
private void Start()
{
    m_Health.HealthChanged += Health_HealthChanged;  // âœ… í•µì‹¬ 1 : ì´ë²¤íŠ¸ êµ¬ë…
    InitializeSlider();
    Reset();
    UpdateView();
}

private void OnDestroy()
{
    m_Health.HealthChanged -= Health_HealthChanged;  // âœ… í•µì‹¬ 2 : êµ¬ë… í•´ì œ
}
```

**ì´í•´ í¬ì¸íŠ¸ :**
- `Start`ì—ì„œ êµ¬ë…, `OnDestroy`ì—ì„œ í•´ì œ â†’ **ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€** í•„ìˆ˜!
- êµ¬ë… í•´ì œë¥¼ ëˆ„ë½í•˜ë©´ ì˜¤ë¸Œì íŠ¸ íŒŒê´´ í›„ì—ë„ ì´ë²¤íŠ¸ê°€ í˜¸ì¶œë˜ì–´ **NullReferenceException** ë°œìƒ
- Modelì˜ ë³€ê²½ì‚¬í•­ì´ **ìë™ìœ¼ë¡œ** Presenterì— ì „ë‹¬ë˜ëŠ” êµ¬ì¡°

**êµ¬ë… íë¦„ :**
```
â‘  Modelì—ì„œ ì´ë²¤íŠ¸ ì„ ì–¸
   public event Action HealthChanged;
            â¬‡ï¸
â‘¡ Presenterê°€ Startì—ì„œ êµ¬ë…
   m_Health.HealthChanged += Health_HealthChanged;
            â¬‡ï¸
â‘¢ Modelì˜ CurrentHealthê°€ ë³€ê²½ë˜ë©´ Invoke ë°œë™
   HealthChanged?.Invoke();
            â¬‡ï¸
â‘£ Presenter.Health_HealthChanged() ìë™ ì‹¤í–‰
   â†’ UpdateView() â†’ Slider, Text ì—…ë°ì´íŠ¸
```

---

### ğŸ“Œ í•µì‹¬ ì½”ë“œ 3 : Presenterì˜ View ì—…ë°ì´íŠ¸ (HealthPresenter)

**ìœ„ì¹˜ :** HealthPresenter.cs:65-80

```csharp
public void UpdateView()
{
    if (m_Health == null)
        return;

    // âœ… í•µì‹¬ 1 : ë°ì´í„° ë³€í™˜ (int â†’ float)
    if (m_Health.MaxHealth != 0)
    {
        m_HealthSlider.value = ((float)m_Health.CurrentHealth / (float)m_Health.MaxHealth) * 100f;
    }

    // âœ… í•µì‹¬ 2 : ë°ì´í„° ë³€í™˜ (int â†’ string)
    if (m_HealthLabel != null)
    {
        m_HealthLabel.text = m_Health.CurrentHealth.ToString();
    }
}
```

**ì´í•´ í¬ì¸íŠ¸ :**
- Presenterê°€ **ë°ì´í„° ë³€í™˜** ì—­í• ì„ ìˆ˜í–‰ (Model â†’ View í˜•ì‹ì— ë§ê²Œ)
- `int` â†’ `float` (ìŠ¬ë¼ì´ë” ë¹„ìœ¨ ê³„ì‚°), `int` â†’ `string` (í…ìŠ¤íŠ¸ í‘œì‹œ)
- null ì²´í¬ë¡œ **ì•ˆì „í•œ ì—…ë°ì´íŠ¸** ë³´ì¥
- `[Optional]` ì†ì„±ì´ ë¶™ì€ `m_HealthLabel`ì€ ì—†ì–´ë„ ì‘ë™

---

### ğŸ“Œ í•µì‹¬ ì½”ë“œ 4 : Null ì¡°ê±´ë¶€ ì—°ì‚°ì (ClickDamage)

**ìœ„ì¹˜ :** ClickDamage.cs:31-34

```csharp
// ?. (Null ì¡°ê±´ë¶€ ì—°ì‚°ì)
// m_HealthPresenter?.Damage() : nullì´ë©´ í˜¸ì¶œì„ ê±´ë„ˆë›°ê³ , ìˆìœ¼ë©´ ì •ìƒ ì‹¤í–‰
// m_HealthPresenter.Damage()  : nullì´ë©´ NullReferenceException ì—ëŸ¬ ë°œìƒ
m_HealthPresenter?.Damage(m_DamageValue);
```

**ì´í•´ í¬ì¸íŠ¸ :**
- `?.`ì€ C#ì˜ **Null ì¡°ê±´ë¶€ ì—°ì‚°ì** (Null-conditional Operator)
- ì°¸ì¡°ê°€ `null`ì´ë©´ **ì•ˆì „í•˜ê²Œ ë¬´ì‹œ**, `null`ì´ ì•„ë‹ˆë©´ ì •ìƒ ì‹¤í–‰
- `if (m_HealthPresenter != null) m_HealthPresenter.Damage(...)` ì˜ ì¶•ì•½í˜•
- ëŸ°íƒ€ì„ ì—ëŸ¬ë¥¼ ë°©ì§€í•˜ëŠ” **ì•ˆì „í•œ ì½”ë”© íŒ¨í„´**

---

## âš–ï¸ ì¥ë‹¨ì 

### âœ… ì¥ì 

**1. ê´€ì‹¬ì‚¬ ë¶„ë¦¬ (SRP ì¤€ìˆ˜)**
- Model : ë°ì´í„°ë§Œ ê´€ë¦¬
- View : UI í‘œì‹œë§Œ ë‹´ë‹¹
- Presenter : ë¡œì§ ì¤‘ì¬ë§Œ ìˆ˜í–‰

**2. í…ŒìŠ¤íŠ¸ ìš©ì´**
- Modelì„ ë…ë¦½ì ìœ¼ë¡œ ìœ ë‹› í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
- UI ì—†ì´ë„ ë°ì´í„° ë¡œì§ ê²€ì¦ ê°€ëŠ¥

**3. UI êµì²´ ìš©ì´**
- Viewë§Œ êµì²´í•˜ë©´ ë‹¤ë¥¸ UI ì‹œìŠ¤í…œìœ¼ë¡œ ì „í™˜ ê°€ëŠ¥
- ì‹¤ì œë¡œ ì´ í”„ë¡œì íŠ¸ì—ì„œ `7_MVP_UIToolkit`ì´ UI Toolkit ë²„ì „

**4. ì´ë²¤íŠ¸ ê¸°ë°˜ ìë™ ì—…ë°ì´íŠ¸**
- Model ë³€ê²½ ì‹œ Presenterê°€ **ìë™ìœ¼ë¡œ** Viewë¥¼ ì—…ë°ì´íŠ¸
- ìˆ˜ë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ í˜¸ì¶œì„ ê´€ë¦¬í•  í•„ìš” ì—†ìŒ

**5. ë°ì´í„° ë³€í™˜ ì±…ì„ ë¶„ë¦¬**
- Modelì˜ raw ë°ì´í„°ë¥¼ View í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì€ Presenterì˜ ì±…ì„
- Modelê³¼ Viewê°€ ì„œë¡œì˜ í˜•ì‹ì„ ì•Œ í•„ìš” ì—†ìŒ

### âŒ ë‹¨ì 

**1. Presenterì˜ ë¹„ëŒ€í™”**
- Modelê³¼ Viewë¥¼ ëª¨ë‘ ì•Œì•„ì•¼ í•˜ë¯€ë¡œ ì½”ë“œê°€ ì»¤ì§ˆ ìˆ˜ ìˆìŒ
- ì—¬ëŸ¬ Viewë¥¼ ê´€ë¦¬í•˜ë©´ Presenterê°€ ë³µì¡í•´ì§

**2. ìˆ˜ë™ View ì—…ë°ì´íŠ¸**
- Presenterê°€ ì§ì ‘ `slider.value = ...`, `text.text = ...`ë¥¼ ì„¤ì •í•´ì•¼ í•¨
- View ìš”ì†Œê°€ ì¶”ê°€ë  ë•Œë§ˆë‹¤ UpdateView() ìˆ˜ì • í•„ìš”
- â†’ MVVMì˜ ë°ì´í„° ë°”ì¸ë”©ì´ ì´ ë¬¸ì œë¥¼ í•´ê²°

**3. Viewì™€ Presenterì˜ ê²°í•©**
- Presenterê°€ êµ¬ì²´ì ì¸ View íƒ€ì…(Slider, Text)ì„ ì§ì ‘ ì°¸ì¡°
- View ë³€ê²½ ì‹œ Presenterë„ ìˆ˜ì •í•´ì•¼ í•  ìˆ˜ ìˆìŒ

**4. ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì½”ë“œ**
- ë‹¨ìˆœí•œ UIì—ë„ Model, View, Presenter 3ê°œ ê³„ì¸µì´ í•„ìš”
- ì†Œê·œëª¨ í”„ë¡œì íŠ¸ì—ì„œëŠ” ê³¼ë„í•  ìˆ˜ ìˆìŒ

---

## ğŸ® ì‹¤ì œ ì‚¬ìš© ì‚¬ë¡€

### 1ï¸âƒ£ ì¸ë²¤í† ë¦¬ ì‹œìŠ¤í…œ

```csharp
// Model : ì¸ë²¤í† ë¦¬ ë°ì´í„°
public class InventoryModel
{
    public event Action InventoryChanged;
    public List<Item> Items { get; private set; } = new();

    public void AddItem(Item item)
    {
        Items.Add(item);
        InventoryChanged?.Invoke();
    }
}

// Presenter : ì¸ë²¤í† ë¦¬ UI ì—…ë°ì´íŠ¸
public class InventoryPresenter
{
    public void UpdateView()
    {
        foreach (var item in model.Items)
        {
            // ìŠ¬ë¡¯ UIì— ì•„ì´í…œ ì•„ì´ì½˜, ì´ë¦„, ìˆ˜ëŸ‰ í‘œì‹œ
        }
    }
}
```

### 2ï¸âƒ£ ìƒì  ì‹œìŠ¤í…œ

```csharp
// Model
public class ShopModel
{
    public event Action GoldChanged;
    public int Gold { get; set; }    // setterì—ì„œ GoldChanged ë°œí–‰
}

// Presenter
public class ShopPresenter
{
    public void BuyItem(ShopItem item)
    {
        if (model.Gold >= item.Price)
        {
            model.Gold -= item.Price;
            // inventoryì— ì•„ì´í…œ ì¶”ê°€
        }
    }

    public void UpdateView()
    {
        goldText.text = model.Gold.ToString();
        // êµ¬ë§¤ ê°€ëŠ¥ ì—¬ë¶€ì— ë”°ë¼ ë²„íŠ¼ í™œì„±í™”/ë¹„í™œì„±í™”
    }
}
```

### 3ï¸âƒ£ ì„¤ì • í™”ë©´

```csharp
// Model
public class SettingsModel
{
    public event Action SettingsChanged;
    public float Volume    { get; set; }  // setterì—ì„œ ì´ë²¤íŠ¸ ë°œí–‰
    public int   Quality   { get; set; }
    public bool  Fullscreen { get; set; }
}

// Presenter : ì„¤ì • UIì™€ ë°ì´í„° ë™ê¸°í™”
public class SettingsPresenter
{
    public void UpdateView()
    {
        volumeSlider.value    = model.Volume;
        qualityDropdown.value = model.Quality;
        fullscreenToggle.isOn = model.Fullscreen;
    }
}
```

---

## ğŸ”§ ì‹¤ë¬´ í™•ì¥ ê°€ì´ë“œ

ì´ í”„ë¡œì íŠ¸ì˜ ì½”ë“œëŠ” **í•™ìŠµìš©ìœ¼ë¡œ ë‹¨ìˆœí•˜ê²Œ** ì„¤ê³„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

ì‹¤ë¬´ì—ì„œ ì—¬ëŸ¬ UI ìš”ì†Œì™€ ë‹¤ì–‘í•œ ë°ì´í„°ë¥¼ MVPë¡œ ê´€ë¦¬í•˜ë ¤ë©´ ë‹¤ìŒ ì‚¬í•­ë“¤ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.

### í˜„ì¬ ì½”ë“œì˜ ì¬ì‚¬ìš©ì„± ë¶„ì„

| ìŠ¤í¬ë¦½íŠ¸ | ë‹¤ë¥¸ ì‹œìŠ¤í…œì— ì¬ì‚¬ìš© ê°€ëŠ¥? | ì´ìœ  |
|---|---|---|
| `Health` (Model) | âš ï¸ ì œí•œì  | ì²´ë ¥ ì „ìš© í•„ë“œëª…, í•˜ì§€ë§Œ êµ¬ì¡°ëŠ” ì°¸ê³  ê°€ëŠ¥ |
| `HealthPresenter` | âŒ ë¶ˆê°€ | uGUIì˜ Slider, Textë¥¼ ì§ì ‘ ì°¸ì¡° |
| `ClickDamage` | âŒ ë¶ˆê°€ | íŠ¹ì • Presenterì— ì˜ì¡´ |

---

### ì¸í„°í˜ì´ìŠ¤ë¥¼ í™œìš©í•œ ì¶”ìƒí™”

ì‹¤ë¬´ì—ì„œëŠ” **ì¸í„°í˜ì´ìŠ¤**ë¥¼ ì‚¬ìš©í•˜ì—¬ Modelê³¼ Presenterë¥¼ ì¶”ìƒí™”í•©ë‹ˆë‹¤ :

```csharp
// Model ì¸í„°í˜ì´ìŠ¤ : ì²´ë ¥ ì‹œìŠ¤í…œì˜ í‘œì¤€ ì •ì˜
public interface IHealthModel
{
    event Action HealthChanged;
    int  CurrentHealth { get; set; }
    int  MinHealth     { get; }
    int  MaxHealth     { get; }
    void Increment(int amount);
    void Decrement(int amount);
    void Restore();
}
```

```csharp
// Presenter ì¸í„°í˜ì´ìŠ¤ : ì²´ë ¥ UI ê´€ë¦¬ì˜ í‘œì¤€ ì •ì˜
public interface IHealthPresenter
{
    void Damage(int amount);
    void Heal(int amount);
    void Reset();
    void UpdateView();
}
```

```csharp
// ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ Presenter êµ¬í˜„
public class HealthPresenter : MonoBehaviour, IHealthPresenter
{
    [SerializeField] private Health m_Health;  // IHealthModelë¡œë„ ì£¼ì… ê°€ëŠ¥

    // uGUI ë²„ì „, UI Toolkit ë²„ì „ ë“± Viewë§Œ êµì²´ ê°€ëŠ¥
}
```

---

### ì œë„¤ë¦­ì„ í™œìš©í•œ ë²”ìš© Presenter

```csharp
// ë²”ìš© Presenter ê¸°ë°˜ í´ë˜ìŠ¤
public abstract class BasePresenter<TModel> : MonoBehaviour
    where TModel : class
{
    [SerializeField] protected TModel model;

    protected abstract void UpdateView();

    protected virtual void OnDestroy()
    {
        // ì´ë²¤íŠ¸ í•´ì œ ë“± ì •ë¦¬ ì‘ì—…
    }
}
```

```csharp
// ì²´ë ¥ Presenter : BasePresenterë¥¼ ìƒì†
public class HealthPresenter : BasePresenter<Health>
{
    [SerializeField] private Slider slider;

    protected override void UpdateView()
    {
        slider.value = ((float)model.CurrentHealth / (float)model.MaxHealth) * 100f;
    }
}

// ê²½í—˜ì¹˜ Presenter : ê°™ì€ êµ¬ì¡°ë¡œ í™•ì¥
public class ExpPresenter : BasePresenter<Experience>
{
    [SerializeField] private Slider slider;

    protected override void UpdateView()
    {
        slider.value = ((float)model.CurrentExp / (float)model.MaxExp) * 100f;
    }
}
```

---

### MVP vs MVP_UIToolkit vs MVVM ë¹„êµ

| í•­ëª© | **MVP (Legacy)** | **MVP (UIToolkit)** | **MVVM (UIToolkit)** |
|------|-------------------|---------------------|----------------------|
| **UI ì‹œìŠ¤í…œ** | uGUI (Slider, Text) | UI Toolkit (ProgressBar, Label) | UI Toolkit (ProgressBar, Label) |
| **Model** | MonoBehaviour | ScriptableObject | ScriptableObject |
| **View ì—…ë°ì´íŠ¸** | Presenterê°€ ìˆ˜ë™ ì„¤ì • | Presenterê°€ ìˆ˜ë™ ì„¤ì • | ViewModelì´ **ë°ì´í„° ë°”ì¸ë”©** |
| **Presenter/ViewModel** | `UpdateView()` ì§ì ‘ í˜¸ì¶œ | `UpdateUI()` ì§ì ‘ í˜¸ì¶œ | `SetBinding()` ìë™ ë°”ì¸ë”© |
| **ë°ì´í„° ë³€í™˜** | Presenter ë‚´ë¶€ ì½”ë“œ | Presenter ë‚´ë¶€ ì½”ë“œ | `ConverterGroup` í´ë˜ìŠ¤ |
| **í™•ì¥ì„±** | View ì¶”ê°€ ì‹œ ì½”ë“œ ì¶”ê°€ | View ì¶”ê°€ ì‹œ ì½”ë“œ ì¶”ê°€ | View ì¶”ê°€ ì‹œ ë°”ì¸ë”©ë§Œ ì¶”ê°€ |
| **ë³µì¡ë„** | ë‚®ìŒ | ì¤‘ê°„ | ë†’ìŒ |

---

## ğŸ“ í•™ìŠµ ì •ë¦¬

### í•µì‹¬ ê°œë…

**MVP íŒ¨í„´ì˜ ë³¸ì§ˆ :**
```
UI(View)ì™€ ë°ì´í„°(Model)ë¥¼ Presenterê°€ ì¤‘ì¬í•˜ì—¬
ì„œë¡œ ì§ì ‘ ì˜ì¡´í•˜ì§€ ì•Šê²Œ ë¶„ë¦¬í•˜ëŠ” ì•„í‚¤í…ì²˜ íŒ¨í„´
```

### ì£¼ìš” êµ¬ì„± ìš”ì†Œ

```
Model (ë°ì´í„°)
  â†“
  Health.cs : ì²´ë ¥ ë°ì´í„° + HealthChanged ì´ë²¤íŠ¸

View (UI í‘œì‹œ)
  â†“
  uGUI : Slider, Text, Button (ë³„ë„ ìŠ¤í¬ë¦½íŠ¸ ì—†ìŒ)

Presenter (ì¤‘ì¬ì)
  â†“
  HealthPresenter.cs : Model ì¡°ì‘ + View ì—…ë°ì´íŠ¸
```

### MVP í†µì‹  ê·œì¹™

```
âœ… User   â†’ Presenter     (ì‚¬ìš©ì ëª…ë ¹ ì „ë‹¬)
âœ… View   â†’ Presenter     (UI ì´ë²¤íŠ¸ë¡œ Presenter ë©”ì„œë“œ í˜¸ì¶œ)
âœ… Presenter â†’ Model       (ë°ì´í„° ì¡°ì‘)
âœ… Model    â†’ Presenter   (ì´ë²¤íŠ¸ë¡œ ë³€ê²½ ì•Œë¦¼)
âœ… Presenter â†’ View        (UI ì§ì ‘ ì—…ë°ì´íŠ¸)
âŒ Model    â†’ View        (ì§ì ‘ í†µì‹  ê¸ˆì§€!)
âŒ View     â†’ Model       (ì§ì ‘ ì¡°ì‘ ê¸ˆì§€!)
```

### ì–¸ì œ ì‚¬ìš©í•´ì•¼ í• ê¹Œ?

**âœ… MVPë¥¼ ì‚¬ìš©í•˜ë©´ ì¢‹ì€ ê²½ìš° :**
- UIì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ **ëª…í™•í•˜ê²Œ ë¶„ë¦¬**í•˜ê³  ì‹¶ì„ ë•Œ
- **ë°ì´í„° ë°”ì¸ë”© ì—†ì´** ê°„ë‹¨í•œ MVP êµ¬ì¡°ê°€ í•„ìš”í•  ë•Œ
- uGUI ê¸°ë°˜ í”„ë¡œì íŠ¸ì—ì„œ **ì•„í‚¤í…ì²˜ íŒ¨í„´**ì„ ì ìš©í•˜ê³  ì‹¶ì„ ë•Œ
- Modelì„ **ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸**í•˜ê³  ì‹¶ì„ ë•Œ

**âŒ MVPë¥¼ í”¼í•´ì•¼ í•˜ëŠ” ê²½ìš° :**
- ë§¤ìš° ë‹¨ìˆœí•œ UI (í† ê¸€ í•˜ë‚˜, ë²„íŠ¼ í•˜ë‚˜ ìˆ˜ì¤€)
- View ìš”ì†Œê°€ ë§ì•„ì„œ `UpdateView()`ê°€ ê³¼ë„í•˜ê²Œ ë¹„ëŒ€í•´ì§€ëŠ” ê²½ìš° â†’ **MVVM ê³ ë ¤**
- ì‹¤ì‹œê°„ ë°ì´í„° ë°”ì¸ë”©ì´ í•„ìš”í•œ ê²½ìš° â†’ **MVVM ê³ ë ¤**

### ê´€ë ¨ íŒ¨í„´

| íŒ¨í„´ | ê´€ê³„ |
|------|------|
| **Observer** | Modelì˜ ì´ë²¤íŠ¸ êµ¬ë…/ë°œí–‰ì´ Observer íŒ¨í„´ í™œìš© |
| **MVC** | MVPì˜ ì›í˜•. Controllerê°€ Viewì™€ Modelì„ ëª¨ë‘ ê´€ë¦¬ |
| **MVVM** | MVPì˜ ë°œì „í˜•. ë°ì´í„° ë°”ì¸ë”©ìœ¼ë¡œ ìˆ˜ë™ View ì—…ë°ì´íŠ¸ ì œê±° |

### ë§ˆë¬´ë¦¬

MVP íŒ¨í„´ì€ **UI ì•„í‚¤í…ì²˜ì˜ ê¸°ë³¸**ì…ë‹ˆë‹¤.

**ê¸°ì–µí•  ì  :**
- âœ… Model, View, Presenter 3ê³„ì¸µìœ¼ë¡œ ê´€ì‹¬ì‚¬ ë¶„ë¦¬
- âœ… Presenterê°€ ì¤‘ì¬ìë¡œì„œ Modelê³¼ Viewë¥¼ ì—°ê²°
- âœ… ì´ë²¤íŠ¸ ê¸°ë°˜ìœ¼ë¡œ Model â†’ Presenter ìë™ ì•Œë¦¼
- âœ… ViewëŠ” ë‹¨ìˆœíˆ í‘œì‹œë§Œ ë‹´ë‹¹, ë¡œì§ ì—†ìŒ
- âš ï¸ Presenterê°€ ë¹„ëŒ€í•´ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¸í„°í˜ì´ìŠ¤/ì œë„¤ë¦­ìœ¼ë¡œ í™•ì¥ ê¶Œì¥
- ğŸ¯ ì´ í”„ë¡œì íŠ¸ì˜ `7_MVP_UIToolkit`ê³¼ `7_MVVM_UIToolkit`ìœ¼ë¡œ ë°œì „ ê³¼ì • í•™ìŠµ ê°€ëŠ¥

---

**ì‘ì„±ì¼ :** 2026.02.02
**ì°¸ê³  ìë£Œ :**
- Unity Korea - Level Up Your Code with Design Patterns and SOLID
- [MVC / MVP / MVVM ì •ë¦¬ ë¸”ë¡œê·¸](https://tae-woong.tistory.com/164)
